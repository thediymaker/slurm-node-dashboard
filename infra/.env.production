# =============================================================================
# SLURM NODE DASHBOARD - PRODUCTION CONFIGURATION
# =============================================================================
#
# ⚠️  IMPORTANT: MOVE this file to .env, do NOT copy it!
#
#     mv .env.production .env
#
# If both .env.production and .env exist simultaneously, Next.js may pick up
# variables randomly from either file, causing strange and unpredictable
# behavior. Always ensure only ONE env file exists in production.
#
# Variables prefixed with NEXT_PUBLIC_ are exposed to the browser.

# -----------------------------------------------------------------------------
# GENERAL SETTINGS
# -----------------------------------------------------------------------------
NODE_ENV="production"
REACT_EDITOR="code"

# Cluster branding
COMPANY_NAME=""
CLUSTER_NAME=""
CLUSTER_LOGO="/logo.png"

# Support URL (optional - shown in the menu)
# Example: https://support.yourcompany.com
NEXT_PUBLIC_SUPPORT_URL=""

NODEVIEW_CONFIG_PATH=infra/node.cfg

# -----------------------------------------------------------------------------
# SLURM REST API CONNECTION
# -----------------------------------------------------------------------------
# Protocol: http or https
SLURM_PROTOCOL="http"

# Slurm REST API server hostname or IP (without protocol or port)
# Example: slurmrestd.example.com
SLURM_SERVER=""

# API version - check your slurmrestd configuration
# Example: v0.0.40, v0.0.41
SLURM_API_VERSION="v0.0.40"

# JWT token for authentication
SLURM_API_TOKEN=""

# Slurm user account for API requests
SLURM_API_ACCOUNT=""

# -----------------------------------------------------------------------------
# PROMETHEUS MONITORING (Optional)
# -----------------------------------------------------------------------------
# Full URL to your Prometheus server
# Example: http://prometheus.example.com:9090
# Example: https://prometheus.internal:9090
PROMETHEUS_URL=""

# -----------------------------------------------------------------------------
# AI ASSISTANT (Optional)
# -----------------------------------------------------------------------------
# OpenAI API key for the AI chat assistant
OPENAI_API_KEY=""

# API endpoint (use default for OpenAI, or custom for Azure/local models)
# Example: https://api.openai.com/v1
# Example: https://your-resource.openai.azure.com/openai/deployments/your-deployment
OPENAI_API_URL="https://api.openai.com/v1"

# Model to use for chat completions
# Example: gpt-4o-mini, gpt-4o, gpt-4-turbo
OPENAI_API_MODEL="gpt-4o-mini"

# Model to use for suggested prompts (can be a smaller/cheaper model)
# Example: gpt-4o-mini, gpt-3.5-turbo
OPENAI_API_MODEL_SUGGESTION="gpt-4o-mini"

# -----------------------------------------------------------------------------
# ADMIN AUTHENTICATION
# -----------------------------------------------------------------------------
# Credentials for the /admin dashboard
ADMIN_USERNAME="admin"
ADMIN_PASSWORD="password"

# -----------------------------------------------------------------------------
# FEATURE FLAGS / PLUGINS
# -----------------------------------------------------------------------------
# Enable/disable optional dashboard features.
# Set to "true" to enable, remove or set to "false" to disable.

# Maintenance notifications banner
NEXT_PUBLIC_MAINT_NOTIFICATIONS_ENABLED="true"

# Software Modules browser (/modules)
NEXT_PUBLIC_ENABLE_MODULES_PLUGIN="true"

# Historical cluster state replay (/rewind)
NEXT_PUBLIC_ENABLE_HISTORY_PLUGIN="true"

# Job Metrics dashboard (/metrics) - requires METRICS_DATABASE_URL
NEXT_PUBLIC_ENABLE_JOB_METRICS_PLUGIN="false"

# AI Chat Assistant - requires OPENAI_API_KEY
NEXT_PUBLIC_ENABLE_OPENAI_PLUGIN="false"

# Prometheus metrics integration - requires PROMETHEUS_URL
NEXT_PUBLIC_ENABLE_PROMETHEUS_PLUGIN="false"

# GPU Utilization metrics - requires PROMETHEUS_URL and DCGM recording rules
# Shows GPU utilization in job modals, metrics page, and admin GPU analysis tab
NEXT_PUBLIC_ENABLE_GPU_UTILIZATION="false"

# InfluxDB metrics integration (alternative to Prometheus)
NEXT_PUBLIC_ENABLE_INFLUXDB_PLUGIN="false"

# -----------------------------------------------------------------------------
# METRICS DATABASE (Required if Job Metrics plugin is enabled)
# -----------------------------------------------------------------------------
# PostgreSQL connection string for job metrics and organizational hierarchy
# Format: postgresql://username:password@hostname:port/database
# Example: postgresql://metrics_user:secretpass@db.example.com:5432/slurm_metrics
# Example: postgresql://postgres:password@localhost:5432/hpc_metrics
SLURM_JOB_METRICS_DATABASE_URL=""

# Hierarchy labels (customize for your organization)
# These labels appear in the metrics dashboard filters and charts
NEXT_PUBLIC_HIERARCHY_LEVEL1_LABEL="College"
NEXT_PUBLIC_HIERARCHY_LEVEL2_LABEL="Department"
